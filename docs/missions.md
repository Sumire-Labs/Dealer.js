# デイリーミッション & ウィークリーチャレンジ

## 概要

毎日 **3つのデイリーミッション** が自動で割り当てられる (Easy / Medium / Hard 各1つ)。
ショップアイテム「ミッションスロット+」を所持している場合、最大 **5つ** まで増加する。

全ミッションを達成すると **コンプリートボーナス $3,000** が追加で貰える。
ショップアイテム「ゴールデンダイス」を所持している場合、各ミッション報酬が **+20%** される。

---

## デイリーミッション一覧

### Easy ($500 ~ $1,000)

| キー | 名前 | 内容 | 目標 | 報酬 |
|------|------|------|------|------|
| `daily_1` | ログインボーナス | `/daily` でデイリーボーナスを受け取る | 1回 | $500 |
| `play_any_3` | カジノ巡り | 何でもいいからゲームを3回プレイ | 3回 | $800 |
| `play_slots_3` | スロット回し | スロットを3回プレイ | 3回 | $700 |
| `play_coinflip_3` | コイントス | コインフリップを3回プレイ | 3回 | $700 |
| `play_roulette_3` | ルーレット入門 | ルーレットを3回プレイ | 3回 | $700 |
| `work_1` | お仕事 | `/work` で1回働く | 1回 | $600 |
| `bet_5000` | 小さな勇気 | 合計 $5,000 を賭ける | $5,000 | $1,000 |

### Medium ($1,500 ~ $2,500)

| キー | 名前 | 内容 | 目標 | 報酬 |
|------|------|------|------|------|
| `win_any_3` | 3連勝 | 何でもいいからゲームに3回勝つ | 3勝 | $2,000 |
| `play_bj_3` | ブラックジャック勝負 | ブラックジャックを3回プレイ | 3回 | $1,500 |
| `play_any_7` | カジノ常連 | 何でもいいからゲームを7回プレイ | 7回 | $1,800 |
| `bet_15000` | 度胸試し | 合計 $15,000 を賭ける | $15,000 | $2,500 |
| `work_2` | ダブルシフト | `/work` で2回働く | 2回 | $1,500 |
| `win_slots_2` | スロットマスター | スロットに2回勝つ | 2勝 | $2,000 |

### Hard ($3,000 ~ $5,000)

| キー | 名前 | 内容 | 目標 | 報酬 |
|------|------|------|------|------|
| `win_any_5` | 勝利の道 | 何でもいいからゲームに5回勝つ | 5勝 | $4,000 |
| `earn_10000` | 荒稼ぎ | ゲームで合計 $10,000 を稼ぐ (純利益) | $10,000 | $3,500 |
| `bet_30000` | ハイローラー | 合計 $30,000 を賭ける | $30,000 | $5,000 |
| `play_any_12` | マラソンプレイ | 何でもいいからゲームを12回プレイ | 12回 | $3,500 |
| `win_roulette_3` | ルーレットの達人 | ルーレットに3回勝つ | 3勝 | $4,000 |

---

## ウィークリーチャレンジ一覧

毎週 **3つ** がランダムに選ばれる。全達成で **コンプリートボーナス $25,000**。

| キー | 名前 | 内容 | 目標 | 報酬 |
|------|------|------|------|------|
| `all_jobs_once` | 全ジョブで1回ずつ | 6種類のジョブで各1回以上働く | 6種 | $15,000 |
| `long_shift_5` | ロングシフト5回 | ロングシフトを5回こなす | 5回 | $12,000 |
| `no_trouble_7` | トラブルなし7連勤 | トラブルなしで7回連続勤務 | 7連続 | $20,000 |
| `great_success_3` | 大成功3回 | 大成功を3回達成する | 3回 | $15,000 |
| `earn_20000` | 合計$20,000稼ぐ | ワーク報酬で合計 $20,000 稼ぐ | $20,000 | $10,000 |
| `work_10` | 10回シフト | 合計10回シフトに入る | 10回 | $12,000 |
| `mastery_up` | 熟練度レベルアップ | ジョブの熟練度を1レベル上げる | 1回 | $15,000 |

---

## ミッション進捗のトリガー

| アクション | 進捗が進むミッションタイプ |
|------------|--------------------------|
| `/daily` を受け取る | `daily` |
| ゲームをプレイする | `play_game` (対象ゲーム or `any`) |
| ゲームに勝つ | `win_game` (対象ゲーム or `any`) |
| チップを稼ぐ (純利益) | `earn_chips` |
| チップを賭ける | `bet_chips` |
| `/work` で働く | `work` |

---

## 関連ショップアイテム

| アイテム | 効果 | 価格 |
|----------|------|------|
| ミッションスロット+ | デイリーミッションの枠が+1 (最大5枠) | $75,000 |
| ゴールデンダイス | ミッション報酬 +20% | $300,000 |

---

## ソースファイル

- 定義: `src/config/missions.ts`
- ウィークリー定義: `src/config/weekly-challenges.ts`
- ロジック: `src/database/services/mission.service.ts`
- リポジトリ: `src/database/repositories/mission.repository.ts`
- UI: `src/ui/builders/daily.builder.ts`
- 定数: `src/config/constants.ts` (`MISSION_COMPLETE_BONUS`, `WEEKLY_CHALLENGE_COUNT`, `WEEKLY_CHALLENGE_ALL_BONUS`)
